# ErgYTDL

## Description
ErgYTDL is a ytdl-core wrapper optimized for use in Discord bots. But there is a particularity: this version has **always updated** dependencies by default, so there is no need to change it every single time! This will also help my lazyness :)

## What does it do?
First of all, it passes the media through [prism-media](https://github.com/amishshah/prism-media) to extract Opus audio data from a stream without converting it first; if the video doesn't have Opus encoding (which should be at least 1% of the majority of new videos on YT) then it passes data through ffmpeg.

## Compatibility
You can use it on both discord.js v12 and v11 without problems. You can also use it as a replacement of ytdl, with the only difference that you **MUST** await its function call. Here are some examples:

# Discord.js v12
```js
const ytdl = require('ergytdl');

async function play(connection, url) {
    connection.play(await ytdl(url), { type: 'opus' });
}
```

# Discord.js v11
```js
const ytdl = require('ergytdl');

async function play(connection, url) {
    connection.playOpusStream(await ytdl(url));
}
```
